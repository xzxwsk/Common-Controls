<div class="container">
	<br/>
	<pre>
function cutstr(str,len){
    var str_length = 0;
    var str_len = 0;
    str_cut = new String();
    str_len = str.length;
    for(var i = 0; i &lt; str_len; i++){
        var a = str.charAt(i);
        str_length++;
        if(escape(a).length &gt; 4){
	      //中文字符的长度经编码之后大于4
	      str_length++;
        }
        str_cut = str_cut.concat(a);
        if(str_length &gt;= len){
	      str_cut = str_cut.concat("...");
	      return str_cut;
        }
    }
    //如果给定字符串小于指定长度，则返回源字符串；
    if(str_length &lt; len){
    	return  str;
    }
}	

cutstr("afdsafdsafldksajflekwjfle", 10);
cutstr("sdk压路机afj可以dsalkfjewlfjdlakfjeowfjldskajfelkjaflkejsalkjelje可能男工可是恩格斯功夫功勋国家", 10);
	</pre>
</div>

<script type="text/javascript">
function cutstr(str,len){
    var str_length = 0;
    var str_len = 0;
    str_cut = new String();
    str_len = str.length;
    for(var i = 0;i<str_len;i++){
        var a = str.charAt(i);
        str_length++;
        if(escape(a).length > 4){
	        //中文字符的长度经编码之后大于4
	        str_length++;
        }
        str_cut = str_cut.concat(a);
        if(str_length>=len){
	        str_cut = str_cut.concat("...");
	        return str_cut;
        }
    }
    //如果给定字符串小于指定长度，则返回源字符串；
    if(str_length<len){
    	return  str;
    }
}
$(function(){
	var str1 = "sdkafjdsalkfjewlfjdlakfjeowfjldskajfelkjaflkejsalkjelje";
	var str2 = "sdk压路机afj可以dsalkfjewlfjdlakfjeowfjldskajfelkjaflkejsalkjelje可能男工可是恩格斯功夫功勋国家";
	$(".container").append("<br/>"+cutstr(str1, 10));
	$(".container").append("<br/>"+cutstr(str2, 10));
});
</script>